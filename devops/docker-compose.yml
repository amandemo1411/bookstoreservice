version: "3.9"

services:
  bookstore-api:
    build:
      context: ..
      dockerfile: src/API/Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: "Development"
      # Override connection string so SQLite DB lives in a mounted volume
      ConnectionStrings__DefaultConnection: "Data Source=/app/data/bookstore.db"
    volumes:
      - sqlite_data:/app/data
    ports:
      - "5000:8080"

volumes:
  sqlite_data:
    driver: local

